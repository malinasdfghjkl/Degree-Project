<html lang="en">


<head>
    <title>FLYONE | Select date</title>
    <meta name="viewport" content=" width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons-images/apple-touch-icon.png">
</head>


<body>
    <div id="headProgress">
        <div class="header" style="position: unset; top: unset; left: unset;">
            <div id="menu">Menu</div>
            <div id="header-center"> <img style="height:10vh;" src="../icons-images/images/flyone-logo.png" /></div>
            <div id="login">Login</div>
        </div>

        <div style="background-color: #283F94; height: 2vh;">
            <div style="background-color: #0493DA; width:50%; height: 2vh;">
            </div>
        </div>
    </div>

    
    <div>
        <div id="route1"> </div>
        <div
            style="display: flex; flex-direction: row; justify-content: center; align-items: center; column-gap: 20px;">
            <button class="contbox" id="dates" style="font-size: 5vw; padding:0px; color:#cecbcb;" onclick="newDate(-1)"> &lt </button>
            <div class="contbox" id="dates"
                style=" font-size: 70%;color: #ffff;background-color: #283F94; flex:4; padding: 1em;"><div id="dat1"> day</div> </div>
            <button class="contbox" id="dates" style="font-size: 5vw; padding:0px; color:#cecbcb;" onclick="newDate(1)"> &gt </button>
        </div>
    </div>

    <div class="contbox" style="margin: 2%;">
        <div style="display:flex; flex-direction: row; width:100%; margin:10px;">
            <div style="flex:2" id="route2"> route </div>
            <div style="color: #0493DA; font-weight: bold; flex:1;"> From <br /> €100 </div>
        </div>

        <div id="class-trio">
            <div class="in">
                <img class="lvlImg" src="../icons-images/svgs/select flight/F1-133-01.svg" />
                <div id="loyaltylvl"> STANDARD </div>
                <div style="font-size:2vw;"> No baggage</div>
                <button onclick="increment(100); sessionStorage.setItem('ticket', 100); window.location='/services';" class="button-light-blue loyaltylvlprice"> €100 </button>
            </div>
            <div class="in">
                <img class="lvlImg" src="../icons-images/svgs/select flight/F1-133-02.svg" />
                <div id="loyaltylvl">LOYAL</div>
                <div style="font-size:2vw;"> 20kg included</div>
                <button onclick="increment(150);sessionStorage.setItem('ticket', 150); window.location='/services';" class="button-light-blue loyaltylvlprice"> €150 </button>
            </div>
            <div class="in">
                <img class="lvlImg" src="../icons-images/svgs/select flight/F1-133-03.svg" />
                <div id="loyaltylvl"> ADVANTAGE </div>
                <div class="loyaltylvltxt"> 10kg + 20kg included</div>
                <button onclick=" increment(200);sessionStorage.setItem('ticket', 200); window.location='/services';" class="button-light-blue loyaltylvlprice"> €200 </button>
            </div>
        </div>
    </div>
    <div class="contbox" style="margin: 2%;">
        <img style="width:25%; align-self: center;padding-top: 5%;"
            src="../icons-images/svgs/select flight/F1-FareLock48h.svg" />
        <h1>Lock Fare for 48 hours</h1>
        <div>
            Need more time to decide? <br />
            With the Lock Fare service you can block the fare and we can hold for 48 hours up to 5 days before the
            flight.
        </div>
        <button id="0" class="button-light-blue"
            onclick="save(0)">
            Add for €6</button>
    </div>
    <div class="contbox" style="margin: 2%;justify-content: center;">
        <img style="width:25%; align-self: center;padding-top: 5%;"
            src="../icons-images/svgs/select flight/F1-133-Change-Flex.svg" />
        <h1>Change Flex</h1>
        <div>
            Have your travel plans changed? <br />
            Change the flight date without penalties up to 24 hours before the flight with the Change Flex service.
        </div>
        <button id="1" class="button-light-blue"
            onclick="save(1)">
            Add for €30</button>
    </div>
    </div>

    <div class="contbox modal" id="summary" style=" height: fit-content;">
        <h4>Summary</h4>
        <div id="route3"> route</div>
        <div>Date: <span id="dat2" type="date">date </span> </div>
        <div>Service Charge: €22</div>
        <h4>Additional Services:</h4>
            <div id="flex"> </div>
            <div id="lock"> </div>
        
        <h5 id="price">Total: €</h5>
        <button onclick="document.getElementById('summary').style.display='none';" class="button-blue"
            style="margin: 1em; border-width: 0px; line-height: 2em;"> Close</button>
    </div>

    <div style="display: flex; flex-direction: column; position: fixed; bottom: 0px; left: 0px;">
        <div style="display: flex; flex-direction: row; background-color: #F7F7FE; padding: 1%; border-top:5px;">
            <button onclick="summary();" id="sum">Summary</button>
        </div>
        <div class="bottom-menu" style="width:100vw; position: unset; bottom: unset; left: unset;">
            <a id="bottom-boxes" href="./start">Home</a>
            <a id="bottom-boxes" href="./search">Book</a>
            <a id="bottom-boxes">Bookings</a>
            <a id="bottom-boxes">More</a>
        </div>
    </div>

    <script src="/js/app.js"></script>
    <script>

var keys=["lock", "flex"];
var prices=[6,30];

function summary() {
    
    if(sessionStorage.getItem('lock') == "true"){
        document.getElementById("lock").style.display="inline";
        document.getElementById("lock").innerHTML="Fare Lock : €6";
    }else{
        document.getElementById("lock").style.display="none";
    }

    if(sessionStorage.getItem('flex') == "true"){
        document.getElementById("flex").style.display="inline";
        document.getElementById("flex").innerHTML="Change Flex: €30";
    }else{
        document.getElementById("flex").style.display="none";
    }

    document.getElementById("price").innerHTML = "Total: €"+sessionStorage.getItem("price");
    document.getElementById("summary").style.display = "flex";

}

function decrement(sub) {
    var c = parseInt(sessionStorage.getItem('price'));
    sessionStorage.setItem('price', (c - sub));
}

function increment(num){
    var p= parseInt(sessionStorage.getItem('price'));
    sessionStorage.setItem('price', (p+num));
}

function save(i) {
    if (sessionStorage.getItem(keys[i]) == "true") {
        sessionStorage.setItem(keys[i], false);
        document.getElementById(i).style.backgroundColor="#0493DA"
        decrement(prices[i]);
    } else {
        sessionStorage.setItem(keys[i], true);
        document.getElementById(i).style.backgroundColor="#283F94"
        increment(prices[i]);
    }
}

function newDate(i){
    var saved= sessionStorage.getItem('date');
    var d = new Date(saved);
    d.setDate(d.getDate() + i);
    var out= d.toISOString().slice(0, 10)

    sessionStorage.setItem('date', out);

    document.getElementById("dat1").innerHTML =sessionStorage.getItem("date");
    document.getElementById("dat2").innerHTML =sessionStorage.getItem("date");
}

for (let i = 1; i < 4; i++) {
    document.getElementById("route" + i).innerHTML = sessionStorage.getItem("departure") + " <img style='height: 1em;' src='../icons-images/svgs/start/flight-twoway-icon2.svg' />" + sessionStorage.getItem("destination");
}

document.getElementById("dat1").innerHTML =sessionStorage.getItem("date");
document.getElementById("dat2").innerHTML =sessionStorage.getItem("date");

    </script>
</body>

</html>